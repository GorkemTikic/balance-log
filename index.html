<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Balance Log</title>
    <base href="./" />
    <style>
      body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
      #boot { padding: 10px; color:#555 }
      #error-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.6); color:#fff; padding: 16px; display:none; z-index: 9999; overflow:auto; }
      #error-overlay pre { white-space: pre-wrap; word-break: break-word; }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <div id="boot">Loadingâ€¦</div>
    <div id="error-overlay"><h2>Runtime error</h2><pre id="error-text"></pre></div>

    <!-- dev entry (Vite swaps this out in dist/) -->
    <script type="module" src="./src/main.tsx"></script>

    <script>
      const showErr = (msg, err) => {
        const o = document.getElementById('error-overlay');
        const t = document.getElementById('error-text');
        if (!o || !t) return;
        o.style.display = 'block';
        t.textContent = String(msg) + (err && err.stack ? "\n\n" + err.stack : "");
      };
      window.addEventListener('error', (e) => showErr(e.message, e.error));
      window.addEventListener('unhandledrejection', (e) => showErr(e.reason?.message||e.reason, e.reason));
    </script>
  </body>
</html>
