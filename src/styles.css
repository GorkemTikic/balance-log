:root{
  --bg:#0b1220; --panel:#0e1729; --surface:#111b2f; --muted:#8aa2c0;
  --text:#edf2ff; --line:#1e2a44; --brand:#7c9cff; --brand-2:#4fd1c5; --warn:#f59e0b; --good:#34d399; --bad:#f87171;
  --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.35);
  --mono: ui-monospace, Menlo, Consolas, "Courier New", monospace;
  --sans: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:linear-gradient(180deg,#0a1020,#0b1324);color:var(--text);font:14px/1.5 var(--sans)}
a{color:inherit}

.wrap{min-height:100vh;display:flex;flex-direction:column}
.container{max-width:1200px;margin:0 auto;padding:20px 16px}

.header{display:flex;justify-content:space-between;gap:14px;flex-wrap:wrap;margin-bottom:10px}
.brand{display:flex;align-items:flex-end;gap:10px}
.logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--brand),#9ae6b4);box-shadow:var(--shadow)}
.h1{margin:0;font-size:24px;font-weight:900;letter-spacing:.2px}
.sub{color:var(--muted);font-size:12px}

.toolbar{display:flex;gap:8px;flex-wrap:wrap}
.btn{appearance:none;border:1px solid var(--line);background:var(--surface);color:var(--text);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:800;letter-spacing:.2px}
.btn:hover{background:#16223a}
.btn.primary{background:linear-gradient(135deg,var(--brand),#a0b9ff);color:#0b1220;border-color:transparent}
.btn.success{background:linear-gradient(135deg,#27e0b3,#7cfbd7);color:#0b1220;border-color:transparent}
.btn.warn{background:#2b1f07;border-color:#3b2f12;color:#ffd58a}
.btn.ghost{background:#0c1527}
.btn.icon{padding:8px 10px;border-radius:9px}

.panel{background:linear-gradient(180deg,#0f1a30,#0d1627);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;margin:10px 0}
.panel-head{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:8px}

.grid{display:grid;gap:12px}
.grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid.auto{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}

.kpi{display:grid;gap:10px}
.kpi-row{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
.kpi-card{background:#0f1a30;border:1px solid var(--line);border-radius:12px;padding:12px}
.kpi-title{color:var(--muted);font-weight:800;font-size:12px}
.kpi-value{font-weight:900;font-size:18px;letter-spacing:0.3px}

.tabs{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.tab{background:#0e1729;border:1px solid var(--line);border-radius:999px;padding:8px 12px;cursor:pointer;font-weight:800;color:var(--muted)}
.tab:hover{background:#0f1b32}
.tab.active{background:linear-gradient(135deg,var(--brand) 20%, var(--brand-2));color:#071226;border-color:transparent}

.textarea{width:100%;min-height:120px;background:#0a1222;color:var(--text);border:1px solid var(--line);border-radius:12px;padding:10px;font:13px/1.5 var(--mono)}

.tablewrap{border:1px solid var(--line);border-radius:12px;overflow:auto;background:#0a1220}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table th{position:sticky;top:0;background:#0d1627;padding:10px;border-bottom:1px solid var(--line);text-align:left;white-space:nowrap;z-index:1}
.table td{padding:10px;border-bottom:1px solid var(--line);vertical-align:top;word-break:break-word;overflow-wrap:anywhere}
.table .num{font-family:var(--mono);font-variant-numeric:tabular-nums}

.bad{color:var(--bad)} .good{color:var(--good)} .muted{color:var(--muted)} .mono{font-family:var(--mono)}

.rightcol{position:sticky;top:92px;max-height:calc(100vh - 110px)}
.split{display:grid;grid-template-columns:minmax(0,1fr) 12px 46%;gap:12px;align-items:start}
.splitter{width:12px;border-left:1px solid var(--line);border-right:1px solid var(--line);cursor:col-resize;background:linear-gradient(180deg,#0c1527,#0b1324)}
.splitter::before{content:"";display:block;margin:24px auto;width:4px;height:44px;border-radius:3px;background:repeating-linear-gradient(#2b3a5c,#2b3a5c 4px,transparent 4px,transparent 8px)}

.drawer-overlay{position:fixed;inset:0;display:flex;justify-content:flex-end;background:rgba(0,0,0,.5);z-index:9998}
.drawer{width:min(560px,100%);height:100%;background:#0d1627;border-left:1px solid var(--line);padding:14px;overflow:auto}
.drawer h3{margin-top:0}
.modal-text{width:100%;height:60vh;background:#0a1222;color:var(--text);border:1px solid var(--line);border-radius:10px;padding:10px;font:13px/1.5 var(--mono)}

footer{opacity:.8;color:var(--muted);text-align:center;padding:12px}
@media (max-width: 980px){
  .grid.two{grid-template-columns:1fr}
  .split{grid-template-columns:1fr}
  .rightcol{position:relative;top:auto;max-height:none}
  .splitter{display:none}
}
